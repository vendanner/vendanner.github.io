---
layout:     post
title:      Docker 命令
subtitle:   
date:       2019-09-02
author:     danner
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Docker
    - 命令
---

|子命令分类|子命令|
|--|--|
|Docker 环境信息|info、version|
|容器生命周期管理|create、exec、kill、pause、restart、rm、run、start、stop、unpause|
|镜像仓库命令|login、logout、pull、push、search|
|镜像管理|build、images、import、load、rmi、save、tag、commit|
|容器运维管理|attach、export、inspect、port、ps、rename、stats、top、wait、cp、diff、update|
|容器资源管理|volume、network|
|系统日志信息|events、history、logs|

命令结构图

![](https://vendanner.github.io/img/docker/cmd_img.png)


`docker run`

	docker run --help
	Usage:	docker run [OPTIONS] IMAGE [COMMAND] [ARG...]
	// 启动一个容器
	Run a command in a new container


> 启动一个容器，并为它分配一个伪终端执行 `/bin/bash` 命令，用户可以在该伪终端与容器进行交互<br>
> sudo docker run -it -- name mytest ubuntu:latest /bin/bash

- `-i` 选项：表示交互模式，始终保持输入流开放
- `-t` 选项：表示分配一个伪终端，一般两个参数结合时使用 -it，即可在容器中利用打开的伪终端进行交互操作
- `--name` 选项：可以指定 `docker run` 命令启动的容器名字，若无此选项，`Docker` 将为容器随机分配一个名字

> 在 ubuntu 镜像上启动一个容器，并命名为 console，同时将新启动的 console容器连接到名为 redisName 的容器上
> sudo docker run --link redisName:redis --name console ubuntu bash

- `--link` 选项：进行容器间**安全的交互通信**，可以避免容器的 `IP` 和端口暴露到外网所导致的安全问题，还可以放置容器在重启后 `IP` 地址变化导致的访问失效。它的原理类似 `DNS` 服务器的域名和地址映射。当容器的 `IP` 地址发生变化时，`Docker` 将**自动维护映射关系**中的 `IP` 地址。
- `-v` 选项：用于挂载一个 `volume`，可以用多个 `-v` 参数同时挂载多个 `volume`。`volume` 的格式为 `[host-dir]:[container-dir]:[rw|ro]`
- `-p` 选项：用于将**容器的端口**暴露给**宿主机**的端口，其常用格式为 `hostPost：container-Port`。通过端口的暴露，可以让**外部主机**通过宿主机暴露的端口来**访问容器**内的应用。
	