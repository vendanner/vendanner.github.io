---
layout:     post
title:      JVM：运行时数据区
subtitle:   
date:       2019-09-06
author:     danner
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Java
    - JVM
    - 数据区
---

> 本文探讨 `JVM` 运行时的数据区

`Java` 虚拟机在执行 `Java` 程序的过程中会把它所管理的内存划分为**若干个**不同的**数据区域**。这些区域都有各自的用途，以及创建和销毁的时间：有的区域随着**虚拟机**进程的启动而存在（全局），有的区域则依赖用户**线程**的启动和结束而建立和销毁（局部）。按虚拟机规范，如图大致可以分为

![](https://vendanner.github.io/img/java/JVM_runtime_dataArea.png)

- `PC register`：程序计数器，指向**下一条要执行字节码**的行数，功能类似 `CPU 中的 PC寄存器`（**线程私有**）
- `Java Virtual Machine Stacks`： Java 虚拟机栈存储**方法体**的中变量、操作数栈、方法出口等信息(**线程私有**)
- `Heap`: 虚拟机所管理的内存中最大的一块，被所有**线程共享**的一块内存区域
- `MetaSpace`： **元数据区**，存放**类信息**、**常量**、**静态变量**、**即时编译器编译后的代码**等数据（**线程共享**）
- `Native Method Stacks`： **本地方法栈**与虚拟机栈作用类似，区别在于虚拟机栈执行字节码，而本地方法栈执行 `Native` 方法服务（**线程私有**）



